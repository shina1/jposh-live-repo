{"version":3,"sources":["actions/orderActions.js","screens/placeOrderScreen/index.js"],"names":["createOrder","order","_ref","Object","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","getState","_getState","userInfo","config","_yield$axios$post","data","message","wrap","_context","prev","next","type","ORDER_CREATE_REQUEST","userLogin","headers","Content-Type","Authorization","concat","token","axios","post","PRODUCTION_BASE_URL","sent","ORDER_CREATE_SUCCESS","payload","CART_CLEAR_ITEMS","localStorage","removeItem","t0","response","logout","ORDER_CREATE_FAIL","stop","_x","_x2","apply","this","arguments","getOrderDetails","id","_ref2","_callee2","_getState2","_yield$axios$get","_context2","ORDER_DETAILS_REQUEST","get","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","_x3","_x4","payOrder","orderId","paymentResult","_ref3","_callee3","_getState3","_yield$axios$put","_context3","ORDER_PAY_REQUEST","put","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","_x5","_x6","deliverOrder","_ref4","_callee4","_getState4","_yield$axios$put2","_context4","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","_x7","_x8","listMyOrders","userID","_ref5","_callee5","_getState5","_yield$axios$get2","_context5","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","_x9","_x10","listOrders","_ref6","_callee6","_getState6","_yield$axios$get3","_context6","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","_x11","_x12","listNewOrders","_ref7","_callee7","_getState7","_yield$axios$get4","_context7","ORDER_LIST_NEW_REQUEST","ORDER_LIST_NEW_SUCCESS","ORDER_LIST_NEW_FAIL","_x13","_x14","getAnalysis","_ref8","_callee8","_getState8","_yield$axios$get5","_context8","ORDER_ANALYSIS_REQUEST","ORDER_ANALYSIS_SUCCESS","ORDER_ANALYSIS_FAIL","_x15","_x16","deleteOrder","_ref9","_callee9","_getState9","_context9","ORDER_DELETE_REQUEST","delete","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","_x17","_x18","PlaceOrderScreen","useDispatch","navigate","useNavigate","_useState","useState","_useState2","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","savePay","setSavePay","orderCreate","useSelector","state","user","cart","userDets","shippingAddress","address","paymentMethod","num","itemsPrice","cartItems","reduce","acc","item","total","Math","round","toFixed","itemsNumber","length","totalPrice","Number","useEffect","success","_id","USER_DETAILS_RESET","ORDER_CREATE_RESET","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","className","name","email","city","postalCode","country","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","to","map","key","src","image","alt","qty","price","onClick","orderItems"],"mappings":"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","file":"static/js/36.9d925513.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { CART_CLEAR_ITEMS } from \"../constants/cartConstant\";\r\nimport { ORDER_ANALYSIS_FAIL, ORDER_ANALYSIS_REQUEST, ORDER_ANALYSIS_SUCCESS, ORDER_CREATE_FAIL, ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_DELETE_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELIVER_FAIL, ORDER_DELIVER_REQUEST, ORDER_DELIVER_SUCCESS, ORDER_DETAILS_FAIL, ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_LIST_FAIL, ORDER_LIST_MY_FAIL, ORDER_LIST_MY_REQUEST, ORDER_LIST_MY_SUCCESS, ORDER_LIST_NEW_FAIL, ORDER_LIST_NEW_REQUEST, ORDER_LIST_NEW_SUCCESS, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_PAY_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS } from \"../constants/orderConstants\";\r\nimport { LOCAL_BASE_URL, PRODUCTION_BASE_URL } from \"../utils/requestMethods\";\r\n\r\n\r\n\r\nimport { logout } from \"./userActions\";\r\n\r\n\r\n// create order\r\n\r\nexport const createOrder = (order) => async(dispatch, getState) =>{\r\n    try {\r\n        dispatch({\r\n            type: ORDER_CREATE_REQUEST,\r\n        })\r\n        const {\r\n            userLogin: {userInfo}\r\n        } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type' : 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        }\r\n\r\n        const {data} = await axios.post(`${PRODUCTION_BASE_URL}order/`, order, config)\r\n        \r\n        dispatch({\r\n            type: ORDER_CREATE_SUCCESS,\r\n            payload: data,\r\n        })\r\n        dispatch({\r\n            type: CART_CLEAR_ITEMS,\r\n            payload: data,\r\n        })\r\n        localStorage.removeItem('cartItems')\r\n    } catch (error) {\r\n        const message = error.response && error.response.data.message ? error.response.data.message : error.message\r\n\r\n        if(message === 'Not authorized, token failed') {\r\n            dispatch(logout())\r\n        } \r\n\r\n        dispatch({\r\n            type: ORDER_CREATE_FAIL,\r\n            payload: message\r\n        })\r\n    }\r\n}\r\n\r\n// get single order details\r\nexport const getOrderDetails = (id) => async(dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_DETAILS_REQUEST,\r\n        })\r\n        const {\r\n            userLogin : {\r\n                userInfo\r\n            }\r\n        } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/${id}`, config)\r\n\r\n        dispatch({\r\n            type: ORDER_DETAILS_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout())\r\n    }\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload: message,\r\n    })\r\n    }\r\n}\r\n\r\n\r\n// pay order\r\nexport const payOrder = (orderId, paymentResult) => async(dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_PAY_REQUEST\r\n        })\r\n\r\n        const {\r\n            userLogin: { userInfo }\r\n        } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type' : 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        }\r\n        // https://ancient-beach-60604.herokuapp.com/api/v1/order/${orderId}/pay\r\n        const { data } = await axios.put(`${PRODUCTION_BASE_URL}order/${orderId}/pay`, paymentResult, config)\r\n\r\n        dispatch({\r\n            type: ORDER_PAY_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout())\r\n    }\r\n    dispatch({\r\n      type: ORDER_PAY_FAIL,\r\n      payload: message,\r\n    })\r\n    }\r\n}\r\n\r\n\r\n// deliver order\r\nexport const deliverOrder = (orderId) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_DELIVER_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.put(\r\n        `${PRODUCTION_BASE_URL}order/${orderId}/deliver`,\r\n        {},\r\n        config\r\n      )\r\n  \r\n      dispatch({\r\n        type: ORDER_DELIVER_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_DELIVER_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  // list order of a user\r\n  export const listMyOrders = (userID) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_LIST_MY_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/userorder/${userID}`, config)\r\n      dispatch({\r\n        type: ORDER_LIST_MY_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_LIST_MY_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n  // list all orders\r\n  export const listOrders = () => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_LIST_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/findall`, config)\r\n  \r\n      dispatch({\r\n        type: ORDER_LIST_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_LIST_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n   // list all orders\r\n   export const listNewOrders = () => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_LIST_NEW_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/findall?new=true`, config)\r\n  \r\n      dispatch({\r\n        type: ORDER_LIST_NEW_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_LIST_NEW_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n  \r\n\r\n\r\n  // get sales analysis\r\n  export const getAnalysis = () => async(dispatch, getState) =>{\r\n    try {\r\n      dispatch({type: ORDER_ANALYSIS_REQUEST})\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/income`, config);\r\n\r\n      dispatch({\r\n        type: ORDER_ANALYSIS_SUCCESS,\r\n        payload: data\r\n      });\r\n\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_ANALYSIS_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n  // delete an order\r\n  \r\n  export const deleteOrder = (id) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_DELETE_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      await axios.delete(`${PRODUCTION_BASE_URL}order/delete/${id}`, config)\r\n  \r\n      dispatch({\r\n        type: ORDER_DELETE_SUCCESS,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_DELETE_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { createOrder } from '../../actions/orderActions'\r\nimport ResponsiveHeader from '../../Components/Header-component/ResponsiveHeader'\r\nimport { ORDER_CREATE_RESET } from '../../constants/orderConstants'\r\nimport { USER_DETAILS_RESET } from '../../constants/userConstants'\r\n\r\nimport \"./style.css\"\r\n\r\nconst PlaceOrderScreen = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const [savePay, setSavePay] = useState()\r\n    const orderCreate = useSelector((state) => state.orderCreate)\r\n    const user = useSelector((state) => state.userLogin)\r\n    const cart = useSelector((state) => state.cart)\r\n    \r\n    const userDets = user.userInfo\r\n\r\n   if(!cart.shippingAddress.address) {\r\n        navigate('/shipping')\r\n   } else if(!cart.paymentMethod){\r\n       navigate('/payment')\r\n   }\r\n\r\n   const addDecimals = (num) => {\r\n    return (Math.round(num * 100) / 100).toFixed(2)\r\n  }\r\ncart.itemsPrice = addDecimals(\r\n    cart.cartItems.reduce((acc, item) => acc + item.total, 0)\r\n)\r\ncart.itemsNumber = cart.cartItems.length\r\ncart.totalPrice = (\r\n    Number(cart.itemsPrice)\r\n).toFixed(2)\r\n// persisting payment method\r\nuseEffect(() => {\r\n    setSavePay(cart.paymentMethod)\r\n}, [cart])\r\n\r\nuseEffect(() => {\r\n    if(orderCreate.success){\r\n        navigate(`/order/${orderCreate.order._id}`)\r\n        dispatch({type: USER_DETAILS_RESET})\r\n        dispatch({type: ORDER_CREATE_RESET})\r\n    }\r\n}, [navigate, orderCreate])\r\n\r\n\r\nconst placeOrderHandler = () => {\r\n    dispatch(\r\n        createOrder({\r\n            orderItems: cart.cartItems,\r\n            shippingAddress: cart.shippingAddress,\r\n            paymentMethod: savePay,\r\n            itemsPrice: cart.itemsPrice,\r\n            itemsNumber: cart.itemsNumber,\r\n            totalPrice: cart.totalPrice\r\n        })\r\n    )\r\n}\r\n  return (\r\n    <main className='palce-order-container'>\r\n      {/* <ResponsiveHeader /> */}\r\n      <div className='place-order-inner-cont'>\r\n            <div className='place-order-inner-left'>\r\n                <div className='place-order-title'>\r\n                    <h2>ORDER REVIEW</h2>\r\n                </div>\r\n                <div className='review-box'>\r\n                    <div className='box-det'>\r\n                        <h3>SHIPPING</h3>\r\n                        <div className='box-item'>\r\n                            <h4>Name : <span>{userDets.name}</span></h4>\r\n                        </div>\r\n                        <div className='box-item'>\r\n                            <h4>Email : <span>{userDets.email}</span></h4>\r\n                        </div>\r\n                        <div className='box-item'>\r\n                            <h4>Address : \r\n                                <span>\r\n                                {cart.shippingAddress.address}, {cart.shippingAddress.city}{' '}\r\n                                {cart.shippingAddress.postalCode},{' '}\r\n                                {cart.shippingAddress.country}\r\n                                </span>\r\n                            </h4>\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                    <div className='box-det'>\r\n                        <h3>PAYMENT METHOD</h3>\r\n                        <div className='box-item'>\r\n                           {\r\n                               savePay ?  <h4>Method : <span>{savePay}</span></h4>\r\n                               :\r\n                               <Link to='/payment'>\r\n                                   <h4>Click to select a payment method</h4>\r\n                               </Link>\r\n                           }\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <hr />\r\n                    <div className='box-det'>\r\n                        <h3>ORDER ITEMS</h3>\r\n                        {\r\n                           cart.cartItems &&  cart.cartItems.map((item) => {\r\n                           return <div className='placeOrdeItems' key={item._id}>\r\n                                <img src={item.image} alt={item.name} />\r\n                                <div><h4>{item.name}</h4></div>\r\n                                <div><h4> {`${item.qty} x ${item.price}`} = {item.qty * item.price} </h4></div>\r\n                            </div>\r\n                        })\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='place-order-inner-right'>\r\n                <div className='place-order-title'>\r\n                    <h3>ORDER SUMMARY</h3>\r\n                </div>\r\n                <hr />\r\n                <div className='order-review-box'>\r\n                    <h4>Total Itmes</h4> <span>{cart.itemsNumber}</span>\r\n                </div>\r\n                <hr />\r\n                <div className='order-review-box'>\r\n                    <h4>Total Price</h4> <span>{cart.totalPrice}</span>\r\n                </div>\r\n                <button className='placeorder-btn' onClick={placeOrderHandler}>\r\n                    Place Order\r\n                </button>\r\n            </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n"],"sourceRoot":""}