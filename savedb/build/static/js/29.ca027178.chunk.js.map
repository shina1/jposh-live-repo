{"version":3,"sources":["Components/message/Message.js","actions/cartAction.js","../node_modules/@material-ui/icons/esm/Remove.js","../node_modules/@material-ui/icons/esm/Add.js","../node_modules/@material-ui/icons/esm/Delete.js","screens/cart/index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","antd__WEBPACK_IMPORTED_MODULE_1__","Message","_ref","type","message","_ref$desc","desc","a","createElement","description","showIcon","addToCart","id","qty","color","size","Object","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","dispatch","getState","_yield$axios$get","data","wrap","_context","prev","next","axios","get","concat","PRODUCTION_BASE_URL","sent","CART_ADD_ITEM","payload","product","_id","name","title","image","img","discount","discoutPrice","price","category","countInStock","reviews","vat","total","localStorage","setItem","JSON","stringify","cart","cartItems","stop","_x","_x2","apply","this","arguments","removeFromCart","CART_REMOVE_ITEM","saveShippingAddress","CART_SAVE_SHIPPING_ADDRESS","savePaymentMethod","CART_SAVE_PAYMENT_METHOD","_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","d","Delete","createSvgIcon","react","Hr","styledComponents","hr","_templateObject","taggedTemplateLiteral","Cart","_useState","useState","_useState2","slicedToArray","cartQuantity","setCartQuantity","navigate","useNavigate","useDispatch","useSelector","state","userLogin","handleCartQuantity","params","reduce","acc","val","handleCheckout","userInfo","react_default","className","react_router_dom","to","item","disabled","onClick","map","key","Math","random","src","alt","Add","Remove"],"mappings":"2FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAeeI,IAZC,SAAAC,GAAgC,IAA7BC,EAA6BD,EAA7BC,KAAMC,EAAuBF,EAAvBE,QAAuBC,EAAAH,EAAdI,YAAc,IAAAD,EAAT,GAASA,EAC9C,OAAOP,EAAAS,EAAAC,cAACR,EAAA,EAAD,CACPI,QAASA,EACTK,YAAaH,EACbH,KAAMA,EACNO,UAAQ,qOCFGC,EAAY,SAACC,EAAIC,EAAKC,EAAOC,GAAjB,sBAAAb,EAAAc,OAAAC,EAAA,EAAAD,CAAAE,EAAAX,EAAAY,KAA0B,SAAAC,EAAMC,EAAUC,GAAhB,IAAAC,EAAAC,EAAA,OAAAN,EAAAX,EAAAkB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAE5BC,IAAMC,IAAN,GAAAC,OAAaC,IAAb,kBAAAD,OAAiDnB,IAFrB,OAAAW,EAAAG,EAAAO,KAE1CT,EAF0CD,EAE1CC,KAELH,EAAS,CACLlB,KAAM+B,IACNC,QAAS,CACLC,QAASZ,EAAKa,IACdC,KAAMd,EAAKe,MACXjC,KAAMkB,EAAKlB,KACXkC,MAAOhB,EAAKiB,IACZC,SAAUlB,EAAKkB,SACfC,aAAcnB,EAAKmB,aACnBC,MAAOpB,EAAKoB,MACZC,SAAUrB,EAAKqB,SACf9B,KAAMA,EACND,MAAOA,EACPgC,aAActB,EAAKsB,aACnBC,QAASvB,EAAKuB,QACdlC,MACAmC,IAAKxB,EAAKoB,MAAQ/B,EAAM,GACxBoC,MAAOzB,EAAKkB,SAAWlB,EAAKmB,aAAe9B,EAAMW,EAAKmB,aAAe9B,EAAM,GAAMW,EAAKoB,MAAQ/B,EAAMW,EAAKoB,MAAQ/B,EAAM,MAI/HqC,aAAaC,QAAQ,YAAaC,KAAKC,UAAU/B,IAAWgC,KAAKC,YAzBlB,wBAAA7B,EAAA8B,SAAApC,MAA1B,gBAAAqC,EAAAC,GAAA,OAAAxD,EAAAyD,MAAAC,KAAAC,YAAA,IA4BZC,EAAiB,SAAClD,GAAD,OAAQ,SAACS,EAAUC,GAC7CD,EAAS,CACPlB,KAAM4D,IACN5B,QAASvB,IAGXsC,aAAaC,QAAQ,YAAaC,KAAKC,UAAU/B,IAAWgC,KAAKC,cAGtDS,EAAsB,SAACxC,GAAD,OAAU,SAACH,GAC5CA,EAAS,CACPlB,KAAM8D,IACN9B,QAASX,IAGX0B,aAAaC,QAAQ,kBAAmBC,KAAKC,UAAU7B,MAG5C0C,EAAoB,SAAC1C,GAAD,OAAU,SAACH,GAC1CA,EAAS,CACPlB,KAAMgE,IACNhC,QAASX,IAGX0B,aAAaC,QAAQ,gBAAiBC,KAAKC,UAAU7B,wCC1DzD,IAAA5B,EAAAC,EAAA,GAAAuE,EAAAvE,EAAA,IAEewE,EAAA,EAAArD,OAAAoD,EAAA,GAA4BxE,EAAA,cAAmB,QAC9D0E,EAAA,sBACC,4CCJD,IAAA1E,EAAAC,EAAA,GAAAuE,EAAAvE,EAAA,IAEewE,EAAA,EAAArD,OAAAoD,EAAA,GAA4BxE,EAAA,cAAmB,QAC9D0E,EAAA,wCACC,6JCFcC,EAAAvD,OAAAwD,EAAA,GAA4BC,EAAA,cAAmB,QAC9DH,EAAA,kFACC,qECQKI,EAAKC,IAAiBC,GAApBC,MAAA7D,OAAA8D,EAAA,EAAA9D,CAAA,gEA8IO+D,UArIF,WAAM,IAAAC,EACyBC,mBAAS,GADlCC,EAAAlE,OAAAmE,EAAA,EAAAnE,CAAAgE,EAAA,GACRI,EADQF,EAAA,GACMG,EADNH,EAAA,GAETI,EAAWC,cAEVlE,EAAWmE,cACZlC,EAAOmC,YAAY,SAACC,GAAD,OAAWA,EAAMpC,OACpCqC,EAAYF,YAAY,SAACC,GAAD,OAAWA,EAAMC,YAEzCC,EAAqB,SAACC,GACN,QAAXA,EACCR,EAAgBD,EAAe,GAG/BA,EAAe,GAAKC,EAAgBD,EAAe,IAmB/D,IAAInC,EAAQK,EAAKC,UAAUuC,OAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,EAAI/C,OAAO,GAI3DgD,EAAiB,WACO,OAAvBN,EAAUO,SACTZ,EAAS,aAGTA,EAAS,WAOnB,OAEEa,EAAA5F,EAAAC,cAAA,QAAM4F,UAAU,kBAEZD,EAAA5F,EAAAC,cAAA,WAAS4F,UAAU,kBACfD,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,mBAAkBD,EAAA5F,EAAAC,cAAA,uBAE9B2F,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,YACVD,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,WACPD,EAAA5F,EAAAC,cAAC6F,EAAA,EAAD,CAAMC,GAAI,aACNH,EAAA5F,EAAAC,cAAA,UAAQ4F,UAAU,YAAlB,uBAIJD,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,aACXD,EAAA5F,EAAAC,cAAA,wBAAgB8C,EAAKC,UAAUuC,OAAO,SAACC,EAAKQ,GAAN,OAAeR,EAAMQ,EAAK1F,KAAK,GAArE,MAGRsF,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,YAEPD,EAAA5F,EAAAC,cAAA,UAAQ4F,UAAU,YAAYI,SAAUvD,GAAS,EAAIwD,QAASR,GAA9D,kBAKpBE,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,eACXD,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,aAEPnD,GAAS,GAAMkD,EAAA5F,EAAAC,cAACP,EAAA,EAAD,CAASE,KAAM,QAASC,QAAS,uBAInDkD,EAAKC,UAAUmD,IAAI,SAAAtE,GAAO,OAEvB+D,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,UAAUO,IAAKvE,EAAUwE,KAAKC,UACzCV,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,mBACXD,EAAA5F,EAAAC,cAAA,OAAKsG,IAAK1E,EAAQI,MAAOuE,IAAI,YAC7BZ,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,WACXD,EAAA5F,EAAAC,cAAA,QAAM4F,UAAU,YAAWD,EAAA5F,EAAAC,cAAA,oBAA3B,KAA4C4B,EAAQE,MACpD6D,EAAA5F,EAAAC,cAAA,QAAM4F,UAAU,UAASD,EAAA5F,EAAAC,cAAA,kBAAzB,KAAwC4B,EAAQtB,OAChDqF,EAAA5F,EAAAC,cAAA,QAAM4F,UAAU,YAAWD,EAAA5F,EAAAC,cAAA,iBAA3B,KAAyC4B,EAAQrB,QAGzDoF,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,iBACXD,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,4BACXD,EAAA5F,EAAAC,cAACwG,EAAA,EAAD,CAAKP,QAAS,kBAAMb,EAAmB,UACnCO,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,kBAAiBD,EAAA5F,EAAAC,cAAA,YAAO4B,EAAQvB,MACnDsF,EAAA5F,EAAAC,cAACyG,EAAA,EAAD,CAAQR,QAAS,kBAAMb,EAAmB,UAC1CO,EAAA5F,EAAAC,cAAC+D,EAAD,CAAQkC,QAAS,kBAnDlB7F,EAmD6CwB,EAAQA,aAlDhFf,EAASyC,YAAelD,IADE,IAACA,MAqDHuF,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,iBAAgBD,EAAA5F,EAAAC,cAAA,oBAAS4B,EAAQM,SAAWN,EAAQO,aAAeP,EAAQvB,IAAMuB,EAAQQ,MAAQR,EAAQvB,UAOrIsF,EAAA5F,EAAAC,cAACkE,EAAD,OAGHyB,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,gBACXD,EAAA5F,EAAAC,cAAA,2BACA2F,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,gBACXD,EAAA5F,EAAAC,cAAA,4BACA2F,EAAA5F,EAAAC,cAAA,YAAO8C,EAAKC,UAAUuC,OAAO,SAACC,EAAKQ,GAAN,OAAeR,EAAMQ,EAAK1F,KAAK,KAEhEsF,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,gBACXD,EAAA5F,EAAAC,cAAA,qBACA2F,EAAA5F,EAAAC,cAAA,oBAAS8C,EAAKC,UAAUuC,OAAO,SAACC,EAAKQ,GAAN,OAAeR,EAAMQ,EAAKvD,KAAK,KAElEmD,EAAA5F,EAAAC,cAAA,OAAK4F,UAAU,gBACXD,EAAA5F,EAAAC,cAAA,MAAI4F,UAAU,SAAd,SACAD,EAAA5F,EAAAC,cAAA,oBAASyC,IAGLkD,EAAA5F,EAAAC,cAAA,UAAQ4F,UAAU,eAAeI,SAAUvD,GAAS,EAAIwD,QAASR,GAAjE","file":"static/js/29.ca027178.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Alert } from 'antd';\r\n\r\nconst Message = ({ type, message, desc='' }) => {\r\n  return <Alert\r\n  message={message}\r\n  description={desc}\r\n  type={type}\r\n  showIcon\r\n/>\r\n}\r\n\r\n\r\n\r\n\r\nexport default Message\r\n","import axios from \"axios\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from \"../constants/cartConstant\";\r\nimport { PRODUCTION_BASE_URL } from \"../utils/requestMethods\";\r\n\r\n\r\n\r\nexport const addToCart = (id, qty, color, size) => async(dispatch, getState) => {\r\n \r\n  const {data} = await axios.get(`${PRODUCTION_BASE_URL}products/find/${id}`)\r\n  \r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            product: data._id,\r\n            name: data.title,\r\n            desc: data.desc,\r\n            image: data.img,\r\n            discount: data.discount,\r\n            discoutPrice: data.discoutPrice,\r\n            price: data.price,\r\n            category: data.category,\r\n            size: size,\r\n            color: color,\r\n            countInStock: data.countInStock,\r\n            reviews: data.reviews,\r\n            qty,\r\n            vat: data.price * qty * 0.2,\r\n            total: data.discount ? data.discoutPrice * qty + data.discoutPrice * qty * 0.2 : data.price * qty + data.price * qty * 0.2,\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n    dispatch({\r\n      type: CART_REMOVE_ITEM,\r\n      payload: id,\r\n    })\r\n  \r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n  }\r\n\r\n  export const saveShippingAddress = (data) => (dispatch) => {\r\n    dispatch({\r\n      type: CART_SAVE_SHIPPING_ADDRESS,\r\n      payload: data,\r\n    })\r\n  \r\n    localStorage.setItem('shippingAddress', JSON.stringify(data))\r\n  }\r\n  \r\n  export const savePaymentMethod = (data) => (dispatch) => {\r\n    dispatch({\r\n      type: CART_SAVE_PAYMENT_METHOD,\r\n      payload: data,\r\n    })\r\n  \r\n    localStorage.setItem('paymentMethod', JSON.stringify(data))\r\n  }\r\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","import React, { useEffect, useState } from 'react'\r\nimport { Modal } from 'antd';\r\nimport Footer from '../../Components/Footer'\r\nimport ResponsiveHeader from '../../Components/Header-component/ResponsiveHeader'\r\nimport { Add, Remove, Delete } from '@material-ui/icons'\r\nimport styledComponents from 'styled-components'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport './style.css'\r\nimport { removeFromCart } from '../../actions/cartAction';\r\nimport Message from '../../Components/message/Message';\r\n\r\nconst Hr = styledComponents.hr`\r\nbackground-color: #eee;\r\nborder: none;\r\nheight: 1px;\r\n`\r\n\r\n// const {REACT_APP_JPOSH_STRIPE_TEST_KEY , REACT_APP_JPOSH_STRIPE_KEY, NODE_ENV } = process.env;\r\n// const KEY =  NODE_ENV === 'production' ?  REACT_APP_JPOSH_STRIPE_KEY : REACT_APP_JPOSH_STRIPE_TEST_KEY;\r\n\r\nconst Cart = () => {\r\n    const [cartQuantity, setCartQuantity] = useState(1)\r\n    const navigate = useNavigate()\r\n    // const [stripeToken, setStripeToken] = useState(null)\r\n    const  dispatch = useDispatch()\r\n    const cart = useSelector((state) => state.cart)\r\n    const userLogin = useSelector((state) => state.userLogin)\r\n\r\n    const handleCartQuantity = (params) =>{\r\n            if(params === \"add\"){\r\n                setCartQuantity(cartQuantity + 1)\r\n            }\r\n            else{\r\n                cartQuantity > 0 && setCartQuantity(cartQuantity - 1)\r\n            }\r\n    }\r\n\r\n    function success() {\r\n        Modal.success({\r\n          content: 'Payment Successfull',\r\n        });\r\n      }\r\n\r\n      function error(message) {\r\n        Modal.error({\r\n          title: 'Error',\r\n          content: message,\r\n        });\r\n      }\r\n\r\n   \r\n    \r\n    let total = cart.cartItems.reduce((acc, val) => acc + val.total ,0);\r\n    // let vat = subTotal * 0.2;\r\n    \r\n\r\n    const handleCheckout = () => {\r\n        if(userLogin.userInfo !== null){\r\n            navigate('/shipping')\r\n        }\r\n        else(\r\n            navigate('/login')\r\n        )\r\n    };\r\n    \r\n    const removeFromCartHandler = (id) => {\r\n        dispatch(removeFromCart(id))\r\n      };\r\n  return (\r\n      \r\n    <main className='cart-main-cont'>\r\n        {/* <ResponsiveHeader /> */}\r\n        <section className='cart-container'>\r\n            <div className='title-container'><h2>Your Bag</h2></div>\r\n            {/* <div className='cart-body'> */}\r\n               <div className='cart-top'>\r\n                    <div className='top-btn'>\r\n                            <Link to={\"/products\"}>\r\n                                <button className='left-btn'>CONTINUE SHOPPING\r\n                                </button>\r\n                            </Link>\r\n                        </div>\r\n                            <div className='top-texts'>\r\n                                <span>Your bag({cart.cartItems.reduce((acc, item) => acc + item.qty, 0)})</span>\r\n                                {/* <span>Your wishlist (0)</span> */}\r\n                            </div>\r\n                        <div className=' top-btn'>\r\n                             {\r\n                                <button className='right-btn' disabled={total <= 0 } onClick={handleCheckout}>CHECKOUT NOW</button>\r\n                             }   \r\n                        </div>\r\n                </div>\r\n            {/* </div> */}\r\n            <div className='cart-bottom'>\r\n                <div className='cart-info'>\r\n                    {\r\n                        total <= 0  && <Message type={'error'} message={'Your cart is empty'} />\r\n                    }\r\n\r\n                    {\r\n                     cart.cartItems.map(product => (\r\n                         \r\n                        <div className='product' key={product + Math.random()}>\r\n                            <div className='product-details'>\r\n                                <img src={product.image} alt='product'/>\r\n                                <div className='details'>\r\n                                    <span className='pro-name'><b>Product</b>: {product.name}</span>\r\n                                    <span className='pro-id'><b>Color</b>: {product.color}</span>\r\n                                    <span className='pro-size'><b>Size</b>: {product.size}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className='price-details'>\r\n                                <div className='product-amount-container'>\r\n                                    <Add onClick={() => handleCartQuantity(\"add\")}/>\r\n                                        <div className='product-amount'><span>{product.qty}</span></div>\r\n                                    <Remove onClick={() => handleCartQuantity(\"rem\")}/>\r\n                                    <Delete onClick={()=> removeFromCartHandler(product.product)}/>\r\n                                </div>\r\n                                <div className='product-price'><span>£ {product.discount ? product.discoutPrice * product.qty : product.price * product.qty}</span></div>\r\n                            </div>\r\n                            \r\n                   </div>\r\n                   \r\n                     ))   \r\n                    }\r\n                   <Hr />\r\n                  \r\n                </div>\r\n                <div className='cart-summary'>\r\n                    <h2>Order Summary</h2>\r\n                    <div className='summary-item'>\r\n                        <h4>Subtotal Items</h4>\r\n                        <span>{cart.cartItems.reduce((acc, item) => acc + item.qty, 0)}</span>\r\n                    </div>\r\n                    <div className='summary-item'>\r\n                        <h4>Tax/VAT</h4>\r\n                        <span>£ {cart.cartItems.reduce((acc, item) => acc + item.vat ,0)}</span>\r\n                    </div>\r\n                    <div className='summary-item'>\r\n                        <h4 className='total'>Total</h4>\r\n                        <span>£ {total}</span>\r\n                    </div>\r\n                    {\r\n                            <button className='checkout-btn' disabled={total <= 0 } onClick={handleCheckout}>CHECKOUT NOW</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </section>\r\n        {/* <Footer /> */}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n"],"sourceRoot":""}