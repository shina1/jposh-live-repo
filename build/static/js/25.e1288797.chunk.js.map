{"version":3,"sources":["actions/orderActions.js","screens/placeOrderScreen/index.js"],"names":["createOrder","order","_ref","Object","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","getState","_getState","userInfo","config","_yield$axios$post","data","message","wrap","_context","prev","next","type","ORDER_CREATE_REQUEST","userLogin","headers","Content-Type","Authorization","concat","token","axios","post","PRODUCTION_BASE_URL","sent","ORDER_CREATE_SUCCESS","payload","CART_CLEAR_ITEMS","localStorage","removeItem","t0","response","logout","ORDER_CREATE_FAIL","stop","_x","_x2","apply","this","arguments","getOrderDetails","id","_ref2","_callee2","_getState2","_yield$axios$get","_context2","ORDER_DETAILS_REQUEST","get","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","_x3","_x4","payOrder","orderId","paymentResult","_ref3","_callee3","_getState3","_yield$axios$put","_context3","ORDER_PAY_REQUEST","put","console","log","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","_x5","_x6","deliverOrder","_ref4","_callee4","_getState4","_yield$axios$put2","_context4","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","_x7","_x8","listMyOrders","userID","_ref5","_callee5","_getState5","_yield$axios$get2","_context5","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","_x9","_x10","listOrders","_ref6","_callee6","_getState6","_yield$axios$get3","_context6","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","_x11","_x12","listNewOrders","_ref7","_callee7","_getState7","_yield$axios$get4","_context7","ORDER_LIST_NEW_REQUEST","ORDER_LIST_NEW_SUCCESS","ORDER_LIST_NEW_FAIL","_x13","_x14","getAnalysis","_ref8","_callee8","_getState8","_yield$axios$get5","_context8","ORDER_ANALYSIS_REQUEST","ORDER_ANALYSIS_SUCCESS","ORDER_ANALYSIS_FAIL","_x15","_x16","deleteOrder","_ref9","_callee9","_getState9","_context9","ORDER_DELETE_REQUEST","delete","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","_x17","_x18","PlaceOrderScreen","useDispatch","navigate","useNavigate","_useState","useState","_useState2","C_Users_Admin_Desktop_life_project_jposh_live_repo_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","savePay","setSavePay","orderCreate","useSelector","state","user","cart","userDets","shippingAddress","address","paymentMethod","num","itemsPrice","cartItems","reduce","acc","item","total","Math","round","toFixed","itemsNumber","length","totalPrice","Number","useEffect","success","_id","USER_DETAILS_RESET","ORDER_CREATE_RESET","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","className","name","email","city","postalCode","country","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","to","map","key","src","image","alt","qty","price","onClick","orderItems"],"mappings":"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","file":"static/js/25.e1288797.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { CART_CLEAR_ITEMS } from \"../constants/cartConstant\";\r\nimport { ORDER_ANALYSIS_FAIL, ORDER_ANALYSIS_REQUEST, ORDER_ANALYSIS_SUCCESS, ORDER_CREATE_FAIL, ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_DELETE_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELIVER_FAIL, ORDER_DELIVER_REQUEST, ORDER_DELIVER_SUCCESS, ORDER_DETAILS_FAIL, ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_LIST_FAIL, ORDER_LIST_MY_FAIL, ORDER_LIST_MY_REQUEST, ORDER_LIST_MY_SUCCESS, ORDER_LIST_NEW_FAIL, ORDER_LIST_NEW_REQUEST, ORDER_LIST_NEW_SUCCESS, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_PAY_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS } from \"../constants/orderConstants\";\r\nimport { LOCAL_BASE_URL, PRODUCTION_BASE_URL } from \"../utils/requestMethods\";\r\n\r\n\r\n\r\nimport { logout } from \"./userActions\";\r\n\r\n\r\n// create order\r\n\r\nexport const createOrder = (order) => async(dispatch, getState) =>{\r\n    try {\r\n        dispatch({\r\n            type: ORDER_CREATE_REQUEST,\r\n        })\r\n        const {\r\n            userLogin: {userInfo}\r\n        } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type' : 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        }\r\n\r\n        const {data} = await axios.post(`${PRODUCTION_BASE_URL}order/`, order, config)\r\n        \r\n        dispatch({\r\n            type: ORDER_CREATE_SUCCESS,\r\n            payload: data,\r\n        })\r\n        dispatch({\r\n            type: CART_CLEAR_ITEMS,\r\n            payload: data,\r\n        })\r\n        localStorage.removeItem('cartItems')\r\n    } catch (error) {\r\n        const message = error.response && error.response.data.message ? error.response.data.message : error.message\r\n\r\n        if(message === 'Not authorized, token failed') {\r\n            dispatch(logout())\r\n        } \r\n\r\n        dispatch({\r\n            type: ORDER_CREATE_FAIL,\r\n            payload: message\r\n        })\r\n    }\r\n}\r\n\r\n// get single order details\r\nexport const getOrderDetails = (id) => async(dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_DETAILS_REQUEST,\r\n        })\r\n        const {\r\n            userLogin : {\r\n                userInfo\r\n            }\r\n        } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            },\r\n        }\r\n\r\n        const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/${id}`, config)\r\n\r\n        dispatch({\r\n            type: ORDER_DETAILS_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout())\r\n    }\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload: message,\r\n    })\r\n    }\r\n}\r\n\r\n\r\n// pay order\r\nexport const payOrder = (orderId, paymentResult) => async(dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_PAY_REQUEST\r\n        })\r\n\r\n        const {\r\n            userLogin: { userInfo }\r\n        } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type' : 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        }\r\n        // https://ancient-beach-60604.herokuapp.com/api/v1/order/${orderId}/pay\r\n        const { data } = await axios.put(`${PRODUCTION_BASE_URL}order/${orderId}/pay`, paymentResult, config)\r\n\r\n        console.log(data)\r\n\r\n        dispatch({\r\n            type: ORDER_PAY_SUCCESS,\r\n            payload: data,\r\n        })\r\n    } catch (error) {\r\n        const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    if (message === 'Not authorized, token failed') {\r\n      dispatch(logout())\r\n    }\r\n    dispatch({\r\n      type: ORDER_PAY_FAIL,\r\n      payload: message,\r\n    })\r\n    }\r\n}\r\n\r\n\r\n// deliver order\r\nexport const deliverOrder = (orderId) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_DELIVER_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.put(\r\n        `${PRODUCTION_BASE_URL}order/${orderId}/deliver`,\r\n        {},\r\n        config\r\n      )\r\n  \r\n      dispatch({\r\n        type: ORDER_DELIVER_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_DELIVER_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  // list order of a user\r\n  export const listMyOrders = (userID) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_LIST_MY_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/userorder/${userID}`, config)\r\n     console.log('this are your list of orders',data);\r\n      dispatch({\r\n        type: ORDER_LIST_MY_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_LIST_MY_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n  // list all orders\r\n  export const listOrders = () => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_LIST_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/findall`, config)\r\n  \r\n      dispatch({\r\n        type: ORDER_LIST_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_LIST_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n   // list all orders\r\n   export const listNewOrders = () => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_LIST_NEW_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/findall?new=true`, config)\r\n  \r\n      dispatch({\r\n        type: ORDER_LIST_NEW_SUCCESS,\r\n        payload: data,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_LIST_NEW_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n  \r\n\r\n\r\n  // get sales analysis\r\n  export const getAnalysis = () => async(dispatch, getState) =>{\r\n    try {\r\n      dispatch({type: ORDER_ANALYSIS_REQUEST})\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n      const { data } = await axios.get(`${PRODUCTION_BASE_URL}order/income`, config);\r\n\r\n      dispatch({\r\n        type: ORDER_ANALYSIS_SUCCESS,\r\n        payload: data\r\n      });\r\n\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_ANALYSIS_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n\r\n  // delete an order\r\n  \r\n  export const deleteOrder = (id) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: ORDER_DELETE_REQUEST,\r\n      })\r\n  \r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState()\r\n  \r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      }\r\n  \r\n      await axios.delete(`${PRODUCTION_BASE_URL}order/delete/${id}`, config)\r\n  \r\n      dispatch({\r\n        type: ORDER_DELETE_SUCCESS,\r\n      })\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n      if (message === 'Not authorized, token failed') {\r\n        dispatch(logout())\r\n      }\r\n      dispatch({\r\n        type: ORDER_DELETE_FAIL,\r\n        payload: message,\r\n      })\r\n    }\r\n  }\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { createOrder } from '../../actions/orderActions'\r\nimport ResponsiveHeader from '../../Components/Header-component/ResponsiveHeader'\r\nimport { ORDER_CREATE_RESET } from '../../constants/orderConstants'\r\nimport { USER_DETAILS_RESET } from '../../constants/userConstants'\r\n\r\nimport \"./style.css\"\r\n\r\nconst PlaceOrderScreen = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const [savePay, setSavePay] = useState()\r\n    const orderCreate = useSelector((state) => state.orderCreate)\r\n    const user = useSelector((state) => state.userLogin)\r\n    const cart = useSelector((state) => state.cart)\r\n    \r\n    const userDets = user.userInfo\r\n\r\n   if(!cart.shippingAddress.address) {\r\n        navigate('/shipping')\r\n   } else if(!cart.paymentMethod){\r\n       navigate('/payment')\r\n   }\r\n\r\n   const addDecimals = (num) => {\r\n    return (Math.round(num * 100) / 100).toFixed(2)\r\n  }\r\ncart.itemsPrice = addDecimals(\r\n    cart.cartItems.reduce((acc, item) => acc + item.total, 0)\r\n)\r\ncart.itemsNumber = cart.cartItems.length\r\ncart.totalPrice = (\r\n    Number(cart.itemsPrice)\r\n).toFixed(2)\r\n// persisting payment method\r\nuseEffect(() => {\r\n    setSavePay(cart.paymentMethod)\r\n}, [cart])\r\n\r\nuseEffect(() => {\r\n    if(orderCreate.success){\r\n        navigate(`/order/${orderCreate.order._id}`)\r\n        dispatch({type: USER_DETAILS_RESET})\r\n        dispatch({type: ORDER_CREATE_RESET})\r\n    }\r\n}, [navigate, orderCreate])\r\n\r\n\r\nconst placeOrderHandler = () => {\r\n    dispatch(\r\n        createOrder({\r\n            orderItems: cart.cartItems,\r\n            shippingAddress: cart.shippingAddress,\r\n            paymentMethod: savePay,\r\n            itemsPrice: cart.itemsPrice,\r\n            itemsNumber: cart.itemsNumber,\r\n            totalPrice: cart.totalPrice\r\n        })\r\n    )\r\n}\r\n  return (\r\n    <main className='palce-order-container'>\r\n      {/* <ResponsiveHeader /> */}\r\n      <div className='place-order-inner-cont'>\r\n            <div className='place-order-inner-left'>\r\n                <div className='place-order-title'>\r\n                    <h2>ORDER REVIEW</h2>\r\n                </div>\r\n                <div className='review-box'>\r\n                    <div className='box-det'>\r\n                        <h3>SHIPPING</h3>\r\n                        <div className='box-item'>\r\n                            <h4>Name : <span>{userDets.name}</span></h4>\r\n                        </div>\r\n                        <div className='box-item'>\r\n                            <h4>Email : <span>{userDets.email}</span></h4>\r\n                        </div>\r\n                        <div className='box-item'>\r\n                            <h4>Address : \r\n                                <span>\r\n                                {cart.shippingAddress.address}, {cart.shippingAddress.city}{' '}\r\n                                {cart.shippingAddress.postalCode},{' '}\r\n                                {cart.shippingAddress.country}\r\n                                </span>\r\n                            </h4>\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                    <div className='box-det'>\r\n                        <h3>PAYMENT METHOD</h3>\r\n                        <div className='box-item'>\r\n                           {\r\n                               savePay ?  <h4>Method : <span>{savePay}</span></h4>\r\n                               :\r\n                               <Link to='/payment'>\r\n                                   <h4>Click to select a payment method</h4>\r\n                               </Link>\r\n                           }\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <hr />\r\n                    <div className='box-det'>\r\n                        <h3>ORDER ITEMS</h3>\r\n                        {\r\n                           cart.cartItems &&  cart.cartItems.map((item) => {\r\n                           return <div className='placeOrdeItems' key={item._id}>\r\n                                <img src={item.image} alt={item.name} />\r\n                                <div><h4>{item.name}</h4></div>\r\n                                <div><h4> {`${item.qty} x ${item.price}`} = {item.qty * item.price} </h4></div>\r\n                            </div>\r\n                        })\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='place-order-inner-right'>\r\n                <div className='place-order-title'>\r\n                    <h3>ORDER SUMMARY</h3>\r\n                </div>\r\n                <hr />\r\n                <div className='order-review-box'>\r\n                    <h4>Total Itmes</h4> <span>{cart.itemsNumber}</span>\r\n                </div>\r\n                <hr />\r\n                <div className='order-review-box'>\r\n                    <h4>Total Price</h4> <span>{cart.totalPrice}</span>\r\n                </div>\r\n                <button className='placeorder-btn' onClick={placeOrderHandler}>\r\n                    Place Order\r\n                </button>\r\n            </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n"],"sourceRoot":""}