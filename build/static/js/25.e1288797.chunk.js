(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{793:function(e,t,a){},80:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"e",function(){return m}),a.d(t,"i",function(){return f}),a.d(t,"c",function(){return h}),a.d(t,"f",function(){return v}),a.d(t,"h",function(){return y}),a.d(t,"g",function(){return g}),a.d(t,"d",function(){return b}),a.d(t,"b",function(){return E});var n=a(18),r=a.n(n),c=a(33),s=a(30),o=a.n(s),u=a(43),i=a(10),l=a(34),p=a(135),d=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a,n){var c,s,d,m,f,h;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.e}),c=n(),s=c.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.post("".concat(l.a,"order/"),e,d);case 6:m=t.sent,f=m.data,a({type:i.g,payload:f}),a({type:u.b,payload:f}),localStorage.removeItem("cartItems"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(h=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(p.g)()),a({type:i.d,payload:h});case 18:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e,a){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a,n){var c,s,u,d,m,f;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.p}),c=n(),s=c.userLogin.userInfo,u={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.get("".concat(l.a,"order/").concat(e),u);case 6:d=t.sent,m=d.data,a({type:i.q,payload:m}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(f=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(p.g)()),a({type:i.o,payload:f});case 16:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(c.a)(r.a.mark(function a(n,c){var s,u,d,m,f,h;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.C}),s=c(),u=s.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u.token)}},a.next=6,o.a.put("".concat(l.a,"order/").concat(e,"/pay"),t,d);case 6:m=a.sent,f=m.data,console.log(f),n({type:i.E,payload:f}),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(0),"Not authorized, token failed"===(h=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(Object(p.g)()),n({type:i.B,payload:h});case 17:case"end":return a.stop()}},a,null,[[0,12]])}));return function(e,t){return a.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a,n){var c,s,u,d,m,f;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.l}),c=n(),s=c.userLogin.userInfo,u={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.put("".concat(l.a,"order/").concat(e,"/deliver"),{},u);case 6:d=t.sent,m=d.data,a({type:i.n,payload:m}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(f=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(p.g)()),a({type:i.k,payload:f});case 16:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a,n){var c,s,u,d,m,f;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.t}),c=n(),s=c.userLogin.userInfo,u={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.get("".concat(l.a,"order/userorder/").concat(e),u);case 6:d=t.sent,m=d.data,console.log("this are your list of orders",m),a({type:i.v,payload:m}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(f=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(p.g)()),a({type:i.s,payload:f});case 17:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e,a){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,s,u,d,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.z}),n=a(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,o.a.get("".concat(l.a,"order/findall"),s);case 6:u=e.sent,d=u.data,t({type:i.A,payload:d}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(m=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(p.g)()),t({type:i.r,payload:m});case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,s,u,d,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.x}),n=a(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,o.a.get("".concat(l.a,"order/findall?new=true"),s);case 6:u=e.sent,d=u.data,t({type:i.y,payload:d}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(m=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(p.g)()),t({type:i.w,payload:m});case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t,a){var n,c,s,u,d,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.b}),n=a(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,o.a.get("".concat(l.a,"order/income"),s);case 6:u=e.sent,d=u.data,t({type:i.c,payload:d}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(m=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(p.g)()),t({type:i.a,payload:m});case 16:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a,n){var c,s,u,d;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.i}),c=n(),s=c.userLogin.userInfo,u={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,o.a.delete("".concat(l.a,"order/delete/").concat(e),u);case 6:a({type:i.j}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(Object(p.g)()),a({type:i.h,payload:d});case 14:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}()}},898:function(e,t,a){"use strict";a.r(t);var n=a(58),r=a(0),c=a.n(r),s=a(85),o=a(50),u=a(22),i=a(80),l=(a(139),a(10)),p=a(5);a(793);t.default=function(){var e=Object(s.b)(),t=Object(o.f)(),a=Object(r.useState)(),d=Object(n.a)(a,2),m=d[0],f=d[1],h=Object(s.c)(function(e){return e.orderCreate}),v=Object(s.c)(function(e){return e.userLogin}),y=Object(s.c)(function(e){return e.cart}),g=v.userInfo;y.shippingAddress.address?y.paymentMethod||t("/payment"):t("/shipping");var b;y.itemsPrice=(b=y.cartItems.reduce(function(e,t){return e+t.total},0),(Math.round(100*b)/100).toFixed(2)),y.itemsNumber=y.cartItems.length,y.totalPrice=Number(y.itemsPrice).toFixed(2),Object(r.useEffect)(function(){f(y.paymentMethod)},[y]),Object(r.useEffect)(function(){h.success&&(t("/order/".concat(h.order._id)),e({type:p.f}),e({type:l.f}))},[t,h]);return c.a.createElement("main",{className:"palce-order-container"},c.a.createElement("div",{className:"place-order-inner-cont"},c.a.createElement("div",{className:"place-order-inner-left"},c.a.createElement("div",{className:"place-order-title"},c.a.createElement("h2",null,"ORDER REVIEW")),c.a.createElement("div",{className:"review-box"},c.a.createElement("div",{className:"box-det"},c.a.createElement("h3",null,"SHIPPING"),c.a.createElement("div",{className:"box-item"},c.a.createElement("h4",null,"Name : ",c.a.createElement("span",null,g.name))),c.a.createElement("div",{className:"box-item"},c.a.createElement("h4",null,"Email : ",c.a.createElement("span",null,g.email))),c.a.createElement("div",{className:"box-item"},c.a.createElement("h4",null,"Address :",c.a.createElement("span",null,y.shippingAddress.address,", ",y.shippingAddress.city," ",y.shippingAddress.postalCode,","," ",y.shippingAddress.country)))),c.a.createElement("hr",null),c.a.createElement("div",{className:"box-det"},c.a.createElement("h3",null,"PAYMENT METHOD"),c.a.createElement("div",{className:"box-item"},m?c.a.createElement("h4",null,"Method : ",c.a.createElement("span",null,m)):c.a.createElement(u.b,{to:"/payment"},c.a.createElement("h4",null,"Click to select a payment method")))),c.a.createElement("hr",null),c.a.createElement("div",{className:"box-det"},c.a.createElement("h3",null,"ORDER ITEMS"),y.cartItems&&y.cartItems.map(function(e){return c.a.createElement("div",{className:"placeOrdeItems",key:e._id},c.a.createElement("img",{src:e.image,alt:e.name}),c.a.createElement("div",null,c.a.createElement("h4",null,e.name)),c.a.createElement("div",null,c.a.createElement("h4",null," ","".concat(e.qty," x ").concat(e.price)," = ",e.qty*e.price," ")))})))),c.a.createElement("div",{className:"place-order-inner-right"},c.a.createElement("div",{className:"place-order-title"},c.a.createElement("h3",null,"ORDER SUMMARY")),c.a.createElement("hr",null),c.a.createElement("div",{className:"order-review-box"},c.a.createElement("h4",null,"Total Itmes")," ",c.a.createElement("span",null,y.itemsNumber)),c.a.createElement("hr",null),c.a.createElement("div",{className:"order-review-box"},c.a.createElement("h4",null,"Total Price")," ",c.a.createElement("span",null,y.totalPrice)),c.a.createElement("button",{className:"placeorder-btn",onClick:function(){e(Object(i.a)({orderItems:y.cartItems,shippingAddress:y.shippingAddress,paymentMethod:m,itemsPrice:y.itemsPrice,itemsNumber:y.itemsNumber,totalPrice:y.totalPrice}))}},"Place Order"))))}}}]);
//# sourceMappingURL=25.e1288797.chunk.js.map